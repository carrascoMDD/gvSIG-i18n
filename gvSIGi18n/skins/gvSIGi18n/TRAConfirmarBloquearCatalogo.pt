<tal:block replace="nothing">
# File: TRAConfirmarBloquearCatalogo.pt
#
# Copyright (c) 2008, 2009 by Conselleria de Infraestructuras y Transporte de la
# Generalidad Valenciana
#
# GNU General Public License (GPL)
#
# This program is free software; you can redistribute it and/or
# modify it under the terms of the GNU General Public License
# as published by the Free Software Foundation; either version 2
# of the License, or (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
# 02110-1301, USA.
#
# Authors: 
# Conselleria de Infraestructuras y Transporte de la Generalidad Valenciana 
# Model Driven Development sl  Valencia (Spain) www.ModelDD.org 
# Antonio Carrasco Valero                       carrasco@ModelDD.org
#
#
</tal:block>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">
<body>                     

                             
<metal:main fill-slot="main">
    <tal:main-macro metal:define-macro="main"
        tal:define="text string:Catalogo de cadenas y sus traduciones a varios idiomas." 
        i18n:domain="gvSIGi18n">


        <metal:block metal:use-macro="here/TRAProfileExecution/macros/tSetupProfileExecution" />   

        <tal:block tal:define="
            pExecutionRecord python: here.fStartExecution( 'template', 'TRAConfirmarBloquearCatalogo.pt', None, pAllowRootProfileExecution, { 'log_what': 'details', 'log_when': True, });
            pPermissionsCache python: {};
            pRolesCache python: {}" >
            
            <div metal:use-macro="here/document_actions/macros/document_actions">
                Document actions (print, sendto etc)
            </div>
    
            <h1 tal:content="object_title" class="documentFirstHeading">
              Title or id
            </h1>
    
            <div metal:use-macro="here/document_byline/macros/byline">
              Get the byline - contains details about author and modification date.
            </div>
            
            
            <tal:block tal:condition="python: not here.fAllowWrite()" >
                <div class="portalMessage" >
                    <span tal:content="python: here.ModelDDvlPlone_tool.fTranslateI18N( here, 'gvSIGi18n', 'gvSIGi18n_TranslationsCatalogIsLockedAgainstModifications', 'The Translations Catalog Is Locked Against Modifications')" />
                </div>
            </tal:block>
            
    
            <tal:block tal:define="pPermiteEditar python: False; pPermiteEliminar python: False; pShowOrHideTrees python: False">
                <metal:block metal:use-macro="here/TRACabeceraEnTabla_i18n_view/macros/tCabeceraEnTabla_i18n" />   
            </tal:block>
                
            <table width="100%%" cellspacing="0" cellpadding="0" frame="void" >
                <tr>
                    <td width="20%"  align="left" valign="baseline" >
                        <font size="2">
                            <em><span tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_TRACatalogo_attr_nombreProducto_label',   'Product Name-' )" /></em>
                         </font>        
                        <font size="3">
                            <strong><span tal:content="python: here.fAsUnicode( here.getNombreProducto())" /></strong>
                         </font>
                    </td>         
                    <td  width="25%" align="center" valign="baseline">
                        <tal:block tal:define="
                            pUseCaseAssessmentResult python: here.fUseCaseAssessment( 
                                theUseCaseName          = 'Advanced_View_on_any_TRA_element', 
                                theElementsBindings     = { 'object': here,},
                                theRulesToCollect       = None, 
                                thePermissionsCache     = pPermissionsCache, 
                                theRolesCache           = pRolesCache, 
                                theParentExecutionRecord= pExecutionRecord)"
                            tal:condition="python: pUseCaseAssessmentResult and pUseCaseAssessmentResult.get( 'success', False)">    
                            <strong>
                                <a href="#" title="#" 
                                    tal:define="aLinkTitle python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_vistaAvanzada_msgid',   'Advanced view-')"
                                    tal:attributes="
                                        title aLinkTitle;
                                        href python: '%s/Tabular/' % here.getCatalogo().absolute_url()">
                                    <span tal:content="aLinkTitle" />
                                </a>
                            </strong>
                        </tal:block>
                    </td>
                    <td width="20%"  align="right" valign="baseline">                    
                        <strong>
                            <a href="#" title="#"  
                                tal:define="aLinkTitle python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_volveracatalogo_msgid',   'Back to catalog-' )"
                                tal:attributes="
                                    title aLinkTitle;
                                    href python: '%s/TRACatalogo/' % here.absolute_url()">
                                <span tal:content="aLinkTitle" />
                            </a>
                        </strong>
                    </td>                
                    <td width="20%" align="right" valign="baseline">                    
                        <strong>
                            <a href="#" title="#" 
                                tal:define="aLinkTitle python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_mostrarinformeactividad_msgid',   'Show Activity Report-' )"                                    
                                tal:attributes="
                                    title aLinkTitle;
                                    href python: '%s/TRACatalogoActividad/' % here.getCatalogo().absolute_url()">
                                <img src="#" alt="#" title="#" 
                                     tal:attributes="src python: '%s/trainformeactividad.gif' % here.portal_url(); alt aLinkTitle; title aLinkTitle" 
                                     id="icon-informeactividad" />
                                <span tal:content="aLinkTitle" />
                            </a>
                        </strong>
                    </td>
                    <td width="20%" align="right" valign="baseline">                    
                        <strong>
                            <a href="#" title="#" 
                                tal:define="aLinkTitle python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_mostrarinformedeestado_msgid',   'Show Status Report-' )"                                    
                                tal:attributes="
                                    title aLinkTitle;
                                    href python: '%s/TRACatalogoInforme/' % here.getCatalogo().absolute_url()">
                                <span tal:content="aLinkTitle" />
                            </a>
                        </strong>
                    </td>
                </tr>
            </table>
                        
            <br/>
            <br/>

            
            <tal:block tal:define="
                pBloquearUseCaseAssessmentResult python: here.fUseCaseAssessment( 
                    theUseCaseName          = 'Lock_TRACatalogo', 
                    theElementsBindings     = { 'object': here,},
                    theRulesToCollect       = None, 
                    thePermissionsCache     = pPermissionsCache, 
                    theRolesCache           = pRolesCache, 
                    theParentExecutionRecord= pExecutionRecord)" >
                <tal:block tal:condition="python: pBloquearUseCaseAssessmentResult and pBloquearUseCaseAssessmentResult.get( 'success', False)">  
                    <a href="#" title="#" 
                        tal:define="aLinkTitle python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_confirmarBloquearCatalogo_msgid',   'Confirm locking the translations catalog-' )"                                    
                        tal:attributes="
                            title aLinkTitle;
                           href python: '%s/TRABloquearCatalogo_action/?theConfirm=%s' % ( here.getCatalogo().absolute_url(), here.fMagicMillisecondsNowString())">
                        <font size="3" color="red">
                            <strong>
                                <span tal:content="aLinkTitle" />
                            </strong>
                        </font>
                    </a>
                </tal:block>

                <tal:block tal:condition="python: not(  pBloquearUseCaseAssessmentResult and pBloquearUseCaseAssessmentResult.get( 'success', False))">    
                    <br/>
                    <br/>
                    <font size="3" color="gray">
                        <strong>
                            <tal:block tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_userCanNotLockCatalogo_msgid',   'You are not allowed to lock the translations catalog.-' )" />
                        </strong>
                    </font>
                </tal:block>
                <br/>
                <br/>
            </tal:block>
            
    
            <tal:block tal:define="dummy python: pExecutionRecord and here.pEndExecution( pExecutionRecord)" />
    
            <metal:block metal:use-macro="here/TRAFooter_i18n_view/macros/tFooter_i18n" />
    
            <tal:block tal:replace="structure python: pExecutionRecord and here.TRARenderExecutionDetails( pExecutionRecord)" />

        </tal:block>
     </tal:main-macro>
</metal:main>

</body>
</html>
