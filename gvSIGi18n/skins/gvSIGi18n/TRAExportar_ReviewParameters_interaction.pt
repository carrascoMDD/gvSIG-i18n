<tal:block replace="nothing">
# File: TRAExportar_ReviewParameters_interaction.pt
#
# Copyright (c) 2008, 2009 by Conselleria de Infraestructuras y Transporte de la Generalidad Valenciana
#
# GNU General Public License (GPL)
#
# This program is free software; you can redistribute it and/or
# modify it under the terms of the GNU General Public License
# as published by the Free Software Foundation; either version 2
# of the License, or (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
# 02110-1301, USA.
#
# Authors: 
# Conselleria de Infraestructuras y Transporte de la Generalidad Valenciana 
# Model Driven Development sl  Valencia (Spain) www.ModelDD.org 
# Antonio Carrasco Valero                       carrasco@ModelDD.org
#
#
</tal:block>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" >
<body>








<div metal:define-macro="tExtractParametersFromRequest" >
    <tal:block tal:define="
        pLanguagesToExport python: request.get( 'theLanguagesToExport',        []);
        pLanguagesToExport python: (( pLanguagesToExport and here.fIsCollection( pLanguagesToExport) and pLanguagesToExport) or [ pLanguagesToExport, ]) or [];
        pCodigosIdiomaReferencia python: dict( [ [pCode, request.get( 'ref-%s' % pCode, '') ] for pCode in pLanguagesToExport if request.get( 'ref-%s' % pCode, '')]);
        pCodificacionesCaracteres python: dict( [ [pCode, request.get( 'enc-%s' % pCode, '') ] for pCode in pLanguagesToExport if request.get( 'enc-%s' % pCode, '')]);
        pModulesToExport python: request.get( 'theModulesToExport',        []);
        pModulesToExport python: (( pModulesToExport and here.fIsCollection( pModulesToExport) and pModulesToExport) or [ pModulesToExport, ]) or [];
        void python: pExport_ReviewParameters_Parameters_input.update( dict( [
            ( 'theExportFormat',            request.get( 'theExportFormat',             None),),
            ( 'theIncludeManifest',         request.get( 'theIncludeManifest',          None),),
            ( 'theIncludeLocalesCSV',         request.get( 'theIncludeLocalesCSV',          None),),
            ( 'theSeparatedModules',        request.get( 'theSeparatedModules',         None),),
            ( 'theTipoArchivo',             request.get( 'theTipoArchivo',              None),),
            ( 'theDefaultLanguageCode',     request.get( 'theDefaultLanguageCode',      None),),
            ( 'theDefaultModuleName',       request.get( 'theDefaultModuleName',        None),),
            ( 'theEncodingErrorHandleMode', request.get( 'theEncodingErrorHandleMode',  None),),
            ( 'theLanguagesToExport',       pLanguagesToExport,),
            ( 'theModulesToExport',         pModulesToExport,),
            ( 'theCodigosIdiomaReferencia', pCodigosIdiomaReferencia,),            
            ( 'theCodificacionesCaracteres',pCodificacionesCaracteres,),            
        ]));" />
</div>






<div metal:define-macro="tExportar_ReviewParameters_interaction_help" >
    <p>
        <strong>
            <tal:block tal:replace="structure python: here.fCRs2BRs( here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_Exportar_ReviewParameters_interaction_help',  'Please, review the export parameters to make sure you will obtain the desired content and format.\nThen you may request an estimation of the content to be exported, for your review.-' ))" />
        </strong>    
    </p>
    <br/>
    <br/>            
</div>






<div metal:define-macro="tShowExportParametersReviewer" >
    <tal:block tal:define="
        pParentExecutionRecord  pExecutionRecord  | nothing;
        pExecutionRecord        python: here.fStartExecution( 'macro', 'TRAExportar_ReviewParameters_interaction/tShowExportParametersEditor', pParentExecutionRecord, False);
        pPermissionsCache       pPermissionsCache | python: { };
        pRolesCache             pRolesCache       | python: { }" >
               
        <style type="text/css" >
           .TRAstyle_Clickable {
               cursor: pointer;
           }
           .TRAstyle_NoDisplay {
               display: none;
           }
           .TRAstyle_Display {
               display: run-in;
           }
           tr.TRAstyle_Display {
               display: table-row;
           }
        </style>
        
 
    
        <tal:block tal:define="
            pInformeIdiomasYModulos             python: pExport_ReviewParameters_Parameters_output .get( 'informe_idiomas_y_modulos', {});
            pInformesIdiomas                    python: pInformeIdiomasYModulos.get( 'idiomas', []);
            pInformesModulos                    python: pInformeIdiomasYModulos.get( 'modulos', []);
            pDisplayCountryFlags                python: pInformeIdiomasYModulos.get( 'display_country_flags', False);
            pExportFormat                       python: pExport_ReviewParameters_Parameters_output.get( 'theExportFormat',                        '');
            pExportFormatVocabulary             python: pExport_ReviewParameters_Parameters_output.get( 'theExportFormat_vocabulary',             []);
            pExportFormatVocabularyMsgIds       python: pExport_ReviewParameters_Parameters_output.get( 'theExportFormat_vocabulary_msgids',      []);
            pIncludeManifest                    python: pExport_ReviewParameters_Parameters_output.get( 'theIncludeManifest',                     '');
            pIncludeManifestVocabulary          python: pExport_ReviewParameters_Parameters_output.get( 'theIncludeManifest_vocabulary',          []);
            pIncludeManifestVocabularyMsgIds    python: pExport_ReviewParameters_Parameters_output.get( 'theIncludeManifest_vocabulary_msgids',   []);
            pIncludeLocalesCSV                    python: pExport_ReviewParameters_Parameters_output.get( 'theIncludeLocalesCSV',                     '');
            pIncludeLocalesCSVVocabulary          python: pExport_ReviewParameters_Parameters_output.get( 'theIncludeLocalesCSV_vocabulary',          []);
            pIncludeLocalesCSVVocabularyMsgIds    python: pExport_ReviewParameters_Parameters_output.get( 'theIncludeLocalesCSV_vocabulary_msgids',   []);
            pSeparatedModules                   python: pExport_ReviewParameters_Parameters_output.get( 'theSeparatedModules',                    '');
            pSeparatedModulesVocabulary         python: pExport_ReviewParameters_Parameters_output.get( 'theSeparatedModules_vocabulary',         []);
            pSeparatedModulesVocabularyMsgIds   python: pExport_ReviewParameters_Parameters_output.get( 'theSeparatedModules_vocabulary_msgids',  []);
            pTipoArchivo                        python: pExport_ReviewParameters_Parameters_output.get( 'theTipoArchivo',                         '');
            pTipoArchivoVocabulary              python: pExport_ReviewParameters_Parameters_output.get( 'theTipoArchivo_vocabulary',              []);
            pTipoArchivoVocabularyMsgIds        python: pExport_ReviewParameters_Parameters_output.get( 'theTipoArchivo_vocabulary_msgids',       []);
            pDefaultLanguageCode                python: pExport_ReviewParameters_Parameters_output.get( 'theDefaultLanguageCode',                 '');
            pDefaultModuleName                  python: pExport_ReviewParameters_Parameters_output.get( 'theDefaultModuleName',                   '');
            pLanguagesToExport                  python: pExport_ReviewParameters_Parameters_output.get( 'theLanguagesToExport',                   []);
            pModulesToExport                    python: pExport_ReviewParameters_Parameters_output.get( 'theModulesToExport',                   []);
            pCodigosIdiomaReferencia            python: pExport_ReviewParameters_Parameters_output.get( 'theCodigosIdiomaReferencia',             []);
            pCodificacionesCaracteres           python: pExport_ReviewParameters_Parameters_output.get( 'theCodificacionesCaracteres',             []);
            pEncodingErrorHandleMode                    python: pExport_ReviewParameters_Parameters_output.get( 'theEncodingErrorHandleMode',   '');
            pEncodingErrorHandleModeVocabulary          python: pExport_ReviewParameters_Parameters_output.get( 'theEncodingErrorHandleMode_vocabulary',   []);
            pEncodingErrorHandleModeVocabularyMsgIds    python: pExport_ReviewParameters_Parameters_output.get( 'theEncodingErrorHandleMode_vocabulary_msgids',   []);
            " >
      
            <form  method="POST" id="cid_TRAExportar_form" action="#" tal:attributes="action python: '%s/TRAExportar/' % here.absolute_url()"
                tal:define="
                    pCodigosIdioma python: [ unInformeIdioma.get( 'codigoIdiomaEnGvSIG', '') for unInformeIdioma in pInformesIdiomas];
                    pHayCodigosIdiomasInternacionalesDistintosCodigoEnGvSIG python: len( [ unInformeIdioma for unInformeIdioma in  pInformesIdiomas if not ( unInformeIdioma.get( 'codigoIdiomaEnGvSIG', '') == unInformeIdioma.get( 'codigoInternacionalDeIdioma', unInformeIdioma.get( 'codigoIdiomaEnGvSIG', '')))]) > 0;
                    pNombresModulos pInformesModulos">
                    
                <input type="hidden" name="theRequestedAction" id="theRequestedAction" value="ReviewParameters" />       
                    
                    
                <script type="text/javascript" src="TRAExportar_javascripts.js" > </script>
                           
                
                
                <!-- ###############################################################
                #  SECTION: Export parameters
                #
                # -->
                <table id="exportParameters" class="listing" summary="Export parameters"
                    tal:define="global unIndexClassFila python: 0" >
                    <thead>
                        <th class="nosort" colspan="2"/>
                    </thead>
                    <tbody>
                    
                        <tr class="#" tal:attributes="class python: pClasesFilas[unIndexClassFila % 2]" tal:define="global unIndexClassFila python: unIndexClassFila + 1">
                            <td align="left" valign="baseline">
                                <strong tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_exportar_Parameter_ExportFormat_label',   'Export Format-' )" />
                            </td>
                            <td align="left" valign="baseline">
                                <tal:block tal:repeat="aExportFormatOptionIndex python: range( len( pExportFormatVocabulary))" >
                                    <tal:block tal:define="
                                        aExportFormatOption      python: pExportFormatVocabulary[ aExportFormatOptionIndex];
                                        aExportFormatOptionMsgId python: pExportFormatVocabularyMsgIds[ aExportFormatOptionIndex]">
                                        <tal:block tal:condition="python: pExportFormat == aExportFormatOption" >
                                            <input  type="hidden"  name="theExportFormat" id="#"  value="#"  
                                                tal:attributes="
                                                    id python: 'theExportFormat_%s' % aExportFormatOption;
                                                    value aExportFormatOption" />
                                            <strong tal:content="python: here.fTranslateI18N( 'gvSIGi18n', aExportFormatOptionMsgId,   aExportFormatOption + '-' )" />
                                        </tal:block>
                                        
                                    </tal:block>
                                </tal:block>
                             </td>
                        </tr>                
                        
                        
                        <tr class="#" tal:attributes="class python: pClasesFilas[unIndexClassFila % 2]" tal:define="global unIndexClassFila python: unIndexClassFila + 1">
                            <td align="left" valign="baseline">
                                <strong  tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_exportar_Parameter_IncludeManifest_label',   'Include MANIFEST.MF-' )" />
                            </td>
                            <td align="left" valign="baseline">
                                <tal:block tal:repeat="aIncludeManifestOptionIndex python: range( len( pIncludeManifestVocabulary))" >
                                    <tal:block tal:define="
                                        aIncludeManifestOption      python: pIncludeManifestVocabulary[ aIncludeManifestOptionIndex];
                                        aIncludeManifestOptionMsgId python: pIncludeManifestVocabularyMsgIds[ aIncludeManifestOptionIndex]">
                                        <tal:block tal:condition="python: pIncludeManifest == aIncludeManifestOption" >
                                            <input type="hidden"  name="theIncludeManifest" id="#"  value="#"  
                                                tal:attributes="
                                                    id python: 'theIncludeManifest_%s' % aIncludeManifestOption;
                                                    value aIncludeManifestOption" />
                                            <strong tal:content="python: here.fTranslateI18N( 'gvSIGi18n', aIncludeManifestOptionMsgId,   aIncludeManifestOption + '-' )" />
                                        </tal:block>
                                         
                                    </tal:block>
                                </tal:block>
                            </td>
                        </tr>                  
                        
                        
                        <tr class="#" tal:attributes="class python: pClasesFilas[unIndexClassFila % 2]" tal:define="global unIndexClassFila python: unIndexClassFila + 1">
                            <td align="left" valign="baseline">
                                <strong  tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_exportar_Parameter_IncludeLocalesCSV_label',   'Include locales.csv-' )" />
                            </td>
                            <td align="left" valign="baseline">
                                <tal:block tal:repeat="aIncludeLocalesCSVOptionIndex python: range( len( pIncludeLocalesCSVVocabulary))" >
                                    <tal:block tal:define="
                                        aIncludeLocalesCSVOption      python: pIncludeLocalesCSVVocabulary[ aIncludeLocalesCSVOptionIndex];
                                        aIncludeLocalesCSVOptionMsgId python: pIncludeLocalesCSVVocabularyMsgIds[ aIncludeLocalesCSVOptionIndex]">
                                        <tal:block tal:condition="python: pIncludeLocalesCSV == aIncludeLocalesCSVOption" >
                                            <input type="hidden"  name="theIncludeLocalesCSV" id="#"  value="#"  
                                                tal:attributes="
                                                    id python: 'theIncludeLocalesCSV_%s' % aIncludeLocalesCSVOption;
                                                    value aIncludeLocalesCSVOption" />
                                            <strong tal:content="python: here.fTranslateI18N( 'gvSIGi18n', aIncludeLocalesCSVOptionMsgId,   aIncludeLocalesCSVOption + '-' )" />
                                        </tal:block>
                                         
                                    </tal:block>
                                </tal:block>
                            </td>
                        </tr>                  
                        
                        
                        <tr class="#" tal:attributes="class python: pClasesFilas[unIndexClassFila % 2]" tal:define="global unIndexClassFila python: unIndexClassFila + 1">
                            <td align="left" valign="baseline">
                                <strong  tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_exportar_Parameter_SeparatedModules_label',   'Separate modules-' )" />
                            </td>
                            <td align="left" valign="baseline">
                            
                                <tal:block tal:repeat="aSeparatedModulesOptionIndex python: range( len( pSeparatedModulesVocabulary))" >
                                    <tal:block tal:define="
                                        aSeparatedModulesOption      python: pSeparatedModulesVocabulary[ aSeparatedModulesOptionIndex];
                                        aSeparatedModulesOptionMsgId python: pSeparatedModulesVocabularyMsgIds[ aSeparatedModulesOptionIndex]">
                                        <tal:block tal:condition="python: pSeparatedModules == aSeparatedModulesOption" >
                                            <input type="hidden" name="theSeparatedModules" id="#"  value="#"  
                                                tal:attributes="
                                                    id python: 'theSeparatedModules_%s' % aSeparatedModulesOption;
                                                    value aSeparatedModulesOption" />
                                            <strong tal:content="python: here.fTranslateI18N( 'gvSIGi18n', aSeparatedModulesOptionMsgId,   aSeparatedModulesOption + '-' )" />
                                        </tal:block>
                                    </tal:block>
                                </tal:block>
                            
                            </td>
                        </tr>                     
                        
                        
                        <tr class="#" tal:attributes="class python: pClasesFilas[unIndexClassFila % 2]" tal:define="global unIndexClassFila python: unIndexClassFila + 1">
                            <td align="left" valign="baseline" >
                                <strong  tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_exportar_Parameter_TipoArchivo_label',   'Archive type-' )" />
                            </td>
                            <td align="left" valign="baseline">
                            
                            
                                <tal:block tal:repeat="aTipoArchivoOptionIndex python: range( len( pTipoArchivoVocabulary))" >
                                    <tal:block tal:define="
                                        aTipoArchivoOption      python: pTipoArchivoVocabulary[ aTipoArchivoOptionIndex];
                                        aTipoArchivoOptionMsgId python: pTipoArchivoVocabularyMsgIds[ aTipoArchivoOptionIndex]">
                                        <tal:block tal:condition="python: pTipoArchivo == aTipoArchivoOption" >
                                            <input type="hidden" name="theTipoArchivo" id="#"  value="#"  
                                                tal:attributes="
                                                    id python: 'theTipoArchivo_%s' % aTipoArchivoOption;
                                                    value aTipoArchivoOption" />
                                            <strong tal:content="python: here.fTranslateI18N( 'gvSIGi18n', aTipoArchivoOptionMsgId,   aTipoArchivoOption + '-' )" />
                                        </tal:block>
                                        
                                    </tal:block>
                                </tal:block>
                             </td>
                        </tr>                            
                        
                        
                        <tr class="#" tal:attributes="class python: pClasesFilas[unIndexClassFila % 2]" tal:define="global unIndexClassFila python: unIndexClassFila + 1">
                            <td align="left" valign="baseline">
                                <strong  tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_exportar_Parameter_DefaultLanguageCode_label',   'Default Language code-' )" />
                            </td>
                            <td align="left" valign="baseline">
                                <input type="text" readonly size="16"  value="#"  checked="checked" name="theDefaultLanguageCode" id="theDefaultLanguageCode"
                                    tal:attributes="value pDefaultLanguageCode"/>
                            </td>
                        </tr>                     
                        
                       
                        <tr class="#" tal:attributes="class python: pClasesFilas[unIndexClassFila % 2]" tal:define="global unIndexClassFila python: unIndexClassFila + 1">
                            <td align="left" valign="baseline">
                                <strong  tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_exportar_Parameter_DefaultModuleName_label',   'Default Module name-' )" />
                            </td>
                            <td align="left" valign="baseline">
                                <input type="text" readonly size="48"  value="#"  checked="checked" name="theDefaultModuleName" id="theDefaultModuleName"
                                    tal:attributes="value pDefaultModuleName"/>
                            </td>
                        </tr>                     
                        
                    </tbody>
                </table>
                <br/>
                <br/>
            
                
                
                
                <!-- ###############################################################
                #  SECTION: Encoding Errors Handle Mode
                #
                # -->
                <table id="cid_EncodingErrorHandleMode" class="listing" summary="Encoding Error Handle Mode" frame="rows"
                    tal:define="global unIndexClassFila python: 0" >
                    <thead>
                        <th class="nosort" align="left">
                            <font size="2">
                                <strong tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_EncodingErrorHandleMode_label', 'Encoding errors handling mode-' )" />
                            </font>
                            <br/>
                            <span class="formHelp" tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_EncodingErrorHandleMode_help', 'How to react upon occurences of encoding errors errors during the translations export process.-' )" />
                        </th>
                    </thead>
                    <tbody>
                        <tal:block tal:repeat="pEncodingErrorHandleModeOptionIndex python: range( len( pEncodingErrorHandleModeVocabulary))">
                            <tal:block tal:define="
                                pEncodingErrorHandleModeOption python: pEncodingErrorHandleModeVocabulary[       pEncodingErrorHandleModeOptionIndex];
                                pEncodingErrorHandleModeMsgId  python: pEncodingErrorHandleModeVocabularyMsgIds[ pEncodingErrorHandleModeOptionIndex]" >
                                <tal:block tal:condition="python: pEncodingErrorHandleModeOption == pEncodingErrorHandleMode" >
                                    <tr  class="#" tal:attributes="class python: pClasesFilas[unIndexClassFila % 2]" >
                                        <td align="left" valign="baseline"
                                            tal:define="global unIndexClassFila python: unIndexClassFila + 1">
                                            <input type="hidden"  
                                                name="theEncodingErrorHandleMode" id="#"  value="#" 
                                                tal:attributes="
                                                    id python: 'cid_%s' % pEncodingErrorHandleModeOption; 
                                                    value pEncodingErrorHandleModeOption" />
                                            <strong tal:content="python: here.fTranslateI18N( 'gvSIGi18n', pEncodingErrorHandleModeMsgId, pEncodingErrorHandleModeMsgId + '-' )" />
                                            <br/>
                                            <span class="formHelp" tal:content="python: here.fTranslateI18N( 'gvSIGi18n', pEncodingErrorHandleModeMsgId + '_help', pEncodingErrorHandleModeMsgId + '_help-')" />
                                        </td>                                        
                                    </tr>
                                </tal:block>
                            </tal:block>
                        </tal:block>
                    </tbody>
                </table>
                <br/>
                <br/>
                
             
            
                
                <!-- ###############################################################
                #  SECTION: Selected languages to export
                #
                # -->
                <tal:block  tal:define="pHayIdiomasSeleccionados python: len( [ unInformeIdioma for unInformeIdioma in pInformesIdiomas if unInformeIdioma.get( 'codigoIdiomaEnGvSIG', '') in pLanguagesToExport])">
                    <tal:block tal:condition="not: pHayIdiomasSeleccionados">
                        <font size="3" color="red">
                            <strong tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_TRAExportacion_parameterError_NoLanguagesSelected',   'You must select at least one language for export. Please edit the export configuration parameters.-' )" />
                        </font>
                        <br/>
                    </tal:block>
                    
                    
                    <tal:block tal:condition="pHayIdiomasSeleccionados">
                        <table id="cid_LanguagesToExportSelector" class="listing" summary="Selector for Languages to Export"
                            tal:define="global unIndexClassFila python: 0" >
                            <thead>
                                <tr>
                                    <th colspan="#" class="nosort" align="center"
                                        tal:attributes="colspan python: 3 + (( pHayCodigosIdiomasInternacionalesDistintosCodigoEnGvSIG and 1) or 0) + (( pDisplayCountryFlags and 1) or 0)">
                                        <font size="2"><strong 
                                            tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_TRAExportacion_parm_codigosIdiomasAExportar_label',   'Languages to export-' )" />
                                        </font>
                                    </th>
                                    <th class="nosort" align="left">
                                        <strong 
                                            tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_TRAExportacion_idiomasDeReferencia_label',   'Reference Languages-' )" />
                                    </th>
                                    <th class="nosort" align="left">
                                        <strong 
                                            tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_TRAExportacion_codificacionDeCaracteres_label',   'Characters encoding-' )" />
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tal:block  tal:repeat="unIdiomaIndex python: range( len(  pInformesIdiomas))">
                                    <tal:block tal:define="
                                        global unIndexClassFila    python: unIndexClassFila + 1;
                                        unInformeIdioma                         python: pInformesIdiomas[ unIdiomaIndex];
                                        pCode                                   python: unInformeIdioma.get( 'codigoIdiomaEnGvSIG', '');
                                        pIntlCode                               python: unInformeIdioma.get( 'codigoInternacionalDeIdioma', '');
                                        pName                                   python: unInformeIdioma.get( 'nombreIdioma', '');
                                        pNativeName                             python: unInformeIdioma.get( 'nombreNativoDeIdioma', '');
                                        pFlag                                   python: unInformeIdioma.get( 'flag', 'tra_flag-ninguna.gif');
                                        pCodigoIdiomaReferencia                 python: pCodigosIdiomaReferencia.get( pCode, '');
                                        pJuegoDeCaracteres                      python: pCodificacionesCaracteres.get( pCode, '');
                                        pJuegoDeCaracteresParaJavaProperties    python: unInformeIdioma.get( 'juego_caracteres_javaproperties', '');
                                        pJuegoDeCaracteresParaPO                python: unInformeIdioma.get( 'juego_caracteres_PO', '');
                                        pTitle                                  python:  here.fAsUnicode( u'%s %s %s %s' % ( pCode, pIntlCode, pName, pNativeName,));
                                        pIdiomasReferenciaVocabulary            python: unInformeIdioma.get( 'idiomas_referencia_vocabulary', []);
                                        pIdiomaEstaSeleccionado                 python: pCode in pLanguagesToExport;
                                        pSizesIdioma                            python: here.TRASizesIdioma( pCode)" >
                                        <tr tal:condition="pIdiomaEstaSeleccionado" class="#" tal:attributes="class python: pClasesFilas[unIndexClassFila % 2]">
                                        
                                            <td align="left" valign="top"  >
                                                <span tal:content="pCode" />
                                                <input type="hidden" value="#"  name="theLanguagesToExport" id="#" 
                                                    tal:attributes="
                                                        value pCode;
                                                        id python: 'cid_LanguageToExport-%d' % unIdiomaIndex" />
                                            </td>
                                            <td tal:condition="pHayCodigosIdiomasInternacionalesDistintosCodigoEnGvSIG" align="left" valign="baseline" >
                                                <tal:block tal:condition="python: not ( pIntlCode == pCode)" 
                                                    tal:content="pIntlCode" />
                                            </td>
                                            <td align="left" valign="top" tal:content="pName" />
                                            <td align="left" valign="top">
                                                <font tal:content="pNativeName"
                                                    size="#" tal:attributes="size python: pSizesIdioma.get( 'display_font_size', '1')"/>
                                            <td tal:condition="pDisplayCountryFlags" align="left" valign="top"  >
                                                <img width="14" height="11" alt=""
                                                    tal:attributes="
                                                        src python: '%s/%s' % ( here.absolute_url(), pFlag);
                                                        title python: pCode" />
                                            </td>                                            
                                            <td align="left" valign="top" >
                                                <tal:block tal:repeat="unIdiomaReferenciaIndex python: range( len(  pIdiomasReferenciaVocabulary))">
                                                    <tal:block tal:define="
                                                        unValorYEtiquetaReferencia     python: pIdiomasReferenciaVocabulary[ unIdiomaReferenciaIndex];
                                                        pCodeReferencia                python: unValorYEtiquetaReferencia[ 0];
                                                        pTitleReferencia               python: unValorYEtiquetaReferencia[ 1];
                                                        pSizesIdiomaReferencia         python: here.TRASizesIdioma( pCodeReferencia)"                                                            
                                                        tal:condition="python: pCodeReferencia == pCodigoIdiomaReferencia">
                                                        <input type="hidden" name="#" id="#" value="#"
                                                            tal:attributes="
                                                                name python: 'ref-%s' % pCode;
                                                                id python: 'cid_ReferenceLanguageToExport-%d' % unIdiomaIndex;
                                                                value pCodigoIdiomaReferencia" />
                                                        <span tal:content="pCodeReferencia" />
                                                        <span tal:content="pTitleReferencia" />
                                                    </tal:block>
                                                </tal:block>
                                            </td>
                                            <td align="left" valign="top" 
                                                tal:define="pEncodingsForLanguage python: here.fEncodingsForLanguage( pCode)">
                                                <tal:block tal:repeat="pEncodingIndex python: range( len( pEncodingsForLanguage))">
                                                    <tal:block tal:define="
                                                        pEncodingNameTitleAndAliases python: pEncodingsForLanguage[ pEncodingIndex];
                                                        pTitle python: pEncodingNameTitleAndAliases[ 3]"
                                                        tal:condition="python: pEncodingNameTitleAndAliases[ 0] == pJuegoDeCaracteres" >
                                                        <input type="hidden" name="#" id="#" value="#"
                                                            tal:attributes="
                                                                value pJuegoDeCaracteres;
                                                                name python: 'enc-%s' % pCode;
                                                                id python: 'cid_EncodingToExportLanguage-%d' % unIdiomaIndex" />
                                                        <span tal:content="pTitle" />
                                                    </tal:block>
                                                </tal:block>
                                            </td>
                                        </tr>
                                    </tal:block>
                                </tal:block>
                            </tbody>
                        </table>
                    </tal:block>
                </tal:block>
                <br/>            
                
    
                <!-- ###############################################################
                #  SECTION: Selector of modules to export
                #
                # -->
                <tal:block  tal:define="pHayModulosSeleccionados python: len( [ unNombreModulo for unNombreModulo in pInformesModulos if unNombreModulo in pModulesToExport])">
                    <tal:block tal:condition="not: pHayModulosSeleccionados">
                        <font size="3" color="red">
                            <strong tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_TRAExportacion_parameterError_NoModulesSelected',   'You must select for export at least one module or the strings with unspecified module. Please edit the export configuration parameters.-' )" />
                        </font>
                        <br/>
                    </tal:block>
                    
                    
                    <tal:block tal:condition="pHayModulosSeleccionados">
                        <table id="cid_ModulesToExportSelector" class="listing" summary="Selector for Modules to Export"
                            tal:define="global unIndexClassFila python: 0" >
                            <thead>
                                <th class="nosort">
                                    <font size="2">
                                        <strong tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_TRAExportacion_parm_nombresModulosAExportar_label',   'Modules to Export-' )" />
                                    </font>
                                </th>                    
                             </thead>
                            <tbody>
                                <tal:block tal:repeat="unModuloIndex python: range( len(  pInformesModulos))">
                                    <tal:block tal:define="
                                        unNombreModulo             python: pInformesModulos[ unModuloIndex];
                                        pModuloEstaSeleccionado python: unNombreModulo in pModulesToExport;" >
                                        <tr tal:condition="pModuloEstaSeleccionado"
                                            class="#" tal:attributes="class python: pClasesFilas[unIndexClassFila % 2]"
                                            tal:define=" global unIndexClassFila    python: unIndexClassFila + 1" >
                                        
                                            <td align="left" valign="baseline" >
                                                <input type="hidden"  class="noborder"  value="#"  name="theModulesToExport" id="#" 
                                                    tal:attributes="
                                                        value unNombreModulo;
                                                        id python: 'cid_ModuleToExport-%d' % unModuloIndex" />
                                                <span tal:content="unNombreModulo" />
                                                    
                                            </td>
                                        </tr>                                        
                                    </tal:block>
                                </tal:block>
                                <tr tal:condition="python: 'mod-ModuloNoEspecificado' in pModulesToExport"
                                    class="#" tal:attributes="class python: pClasesFilas[unIndexClassFila % 2]"
                                    tal:define=" global unIndexClassFila    python: unIndexClassFila + 1" >
                                    <td>
                                        <input type="hidden"  class="noborder"  value="#"  name="theModulesToExport" id="#" 
                                            tal:attributes="
                                                value string:mod-ModuloNoEspecificado;
                                                id python: 'mod-ModuloNoEspecificado'" />
                                        <span tal:content="python: here.fLabelModuloNoEspecificado()" />
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </tal:block>
                    <br/>
                </tal:block>
                        
            </form>
        </tal:block> 
        
        <tal:block tal:define="dummy python: pExecutionRecord and here.pEndExecution( pExecutionRecord)" />
        
    </tal:block> 
</div>







<div metal:define-macro="tPromptForEstimationEditionDefaultsOrCancel" >
               
    <!-- ###############################################################
    #  SECTION: Actions available for the user: Cancel or Review the export 
    #
    # -->
    <a href="#" title="#"  
        tal:define="aLinkTitle python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_cancelarExportacionYVolverACatalogo_msgid',   'Cancel Export-' )"
        tal:attributes="
            title aLinkTitle;
            href python: '%s/' % here.absolute_url()">
        <font size="3">
              <strong>
                  <span tal:content="aLinkTitle" />
            </strong>
        </font>
    </a>
    &emsp;
    <span class="formHelp" tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_cancelarExportacionYVolverACatalogo_help', 'Cancel translations export and navigate back to translations catalog home page.-')" />
    <br/>
    <br/>
    <br/>
    
    <a href="#" title="#"  
        tal:define="aLinkTitle python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_valoresPorDefectoExportacion_msgid',   'Default export configuration-' )"
        tal:attributes="
            title aLinkTitle;
            href python: '%s/TRAExportar/' % here.absolute_url()">
        <font size="3">
              <strong>
                  <span tal:content="aLinkTitle" />
            </strong>
        </font>
    </a>
    &emsp;
    <span class="formHelp" tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_valoresPorDefectoExportacion_help', 'Discard any changes made to export configuration parameters, and start again with the values configured in the translations catalog and languages.-')" />
    <br/>
    <br/>
    <br/>
    
    <input type="button" value="#"
        tal:attributes="value python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_configurarExportacion_msgid',   'Edit parameters-' )"    
        onclick="document.getElementById('theRequestedAction').value='EditParameters'; document.forms[ 'cid_TRAExportar_form'].submit(); return true;" 
        style="color: red; font-size: 9pt; font-style: italic; font-weight: 700" />
    &emsp;
    <span class="formHelp"  tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_configurarExportacion_help',  'Edit the export configuration paramters.-' )" />
    <br/>
    <br/>
  
   <input type="button" value="#"
        tal:attributes="value python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_estimarExportacion_action_label',   'Estimate Export-' )"    
        onclick="document.getElementById('theRequestedAction').value='EstimateContent'; document.forms[ 'cid_TRAExportar_form'].submit(); return true;" 
        style="color: red; font-size: 9pt; font-style: italic; font-weight: 700" />
    &emsp;
    <span class="formHelp"  tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_estimarExportacion_action_help',  'The system will estimate the content that will be included in the exported download file.-' )" />
    <br/>
    <br/>
     
</div>

                         

</body>
</html>
