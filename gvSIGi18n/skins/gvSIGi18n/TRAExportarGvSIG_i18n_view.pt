<tal:block replace="nothing">
# File: TRAExportarGvSIG_i18n_view.pt
# Copyright (c) 2008, 2009 by Conselleria de Infraestructuras y Transporte de la
# Generalidad Valenciana
#
# GNU General Public License (GPL)
#
# This program is free software; you can redistribute it and/or
# modify it under the terms of the GNU General Public License
# as published by the Free Software Foundation; either version 2
# of the License, or (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
# 02110-1301, USA.
#
# Authors: 
# Conselleria de Infraestructuras y Transporte de la Generalidad Valenciana 
# Model Driven Development sl  Valencia (Spain) www.ModelDD.org 
# Antonio Carrasco Valero                       carrasco@ModelDD.org
#
</tal:block>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en">
<body>


	<div metal:define-macro="tTRAExportarGvSIG_i18n_view" >
	
	
		<metal:block metal:use-macro="here/PerformanceAnalysis/macros/tSetupPerformanceAnalysis" />   
	
		
		<tal:block tal:define="
				pProductName					    request/theProductName        | string:;
				pProductVersion			            request/theProductVersion	  | string:;
				pL10NVersion		   	            request/theL10NVersion        | string:;
		 global pMostrarFormulario					python: ( not pProductName) or ( not pProductVersion) or ( not pL10NVersion);
				pPermissionsCache					python: { };
				pRolesCache							python: { };
				pExecutionRecord       				pExecutionRecord | nothing;">
				
			<tal:block tal:define="
				pUseCaseAssessmentResult python: here.fUseCaseAssessment( 
					theUseCaseName          = 'Export', 
					theElementsBindings     = { 'object': here,},
					theRulesToCollect       = None, 
					thePermissionsCache     = pPermissionsCache, 
					theRolesCache           = pRolesCache, 
					theParentExecutionRecord= pExecutionRecord);
				pPermiteExportar python: pUseCaseAssessmentResult and pUseCaseAssessmentResult.get( 'success', False)" >
				
				
				<tal:block tal:condition="not: pPermiteExportar" >
					<br>
					<h2 > 
						<a  href="#" tal:attributes="href python: '%s/Tabular/' % here.getCatalogo().absolute_url()" class="state-visible" title="">
							<font color="Red">                    
								<span  i18n:domain="gvSIGi18n" i18n:translate="gvSIGi18n_exportForGvSIG_action_NoPermission_ErrorMsg">You do not have permission to export the language for gvSIG.-</span>
							</font>
						</a>                
					</h2>      
				</tal:block>				

				
				<tal:block tal:condition="pPermiteExportar" >	
				
					<tal:block tal:condition="not: pMostrarFormulario" >

						<tal:block tal:define="
							pParametersInput python: {
								'theProductName':    pProductName,
								'theProductVersion': pProductVersion,
								'theL10NVersion':    pL10NVersion,
							};
							unResultadoExportar python: here.fExportarIdiomaParaGvSIG( pParametersInput, pPermissionsCache, pRolesCache, pExecutionRecord)" >
							<tal:block tal:condition="unResultadoExportar" >
								<tal:block tal:define="dummy python: None and request.response.redirect( '%s/Tabular/' % here.absolute_url())" />
							</tal:block>
							<tal:block tal:condition="not: unResultadoExportar" >
								<p><strong  tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_TRAExportacion_ErrorEnCopiaSeguridad_msgid',  'No ha sido posible realizar la generacion de copia de seguridad.-' )" /></p>
							</tal:block>
						</tal:block>
			
					</tal:block>
				
					
					<tal:block tal:condition="pMostrarFormulario" >
					
						<form name="ExportarParaGvSIG" method="post" enctype="multipart/form-data">
														
							<!-- ###############################################################
							#  SECTION: Export parameters specific to gvSIG
							#
							# -->
							<table id="exportParameters_Specific_to_gvSIG" class="listing" summary="Export parameters specific to gvSIG"
								tal:define="global pClasesFilas python: [ 'even',  'odd',]; global unIndexClassFila python: 0" >
								<thead>
									<th class="nosort" colspan="2">
										<strong  tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_exportar_Parameter_ExportParameters_SpecificToGvSIG_label',   'Export parameters specific to gvSIG-' )" />
									</th>
								</thead>
								<tbody>
									
									
									<tr class="#" tal:attributes="class python: pClasesFilas[unIndexClassFila % 2]" tal:define="global unIndexClassFila python: unIndexClassFila + 1">
										<td align="left" valign="baseline">
											<strong  tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_exportar_Parameter_ProductName_label',   'Product name-' )" />
										</td>
										<td align="left" valign="baseline">
											<input type="text"  size="32"  value="#"  checked="checked" name="theProductName" id="theProductName"
												tal:attributes="value pProductName"/>
										</td>
									</tr>                     
									
									<tr class="#" tal:attributes="class python: pClasesFilas[unIndexClassFila % 2]" tal:define="global unIndexClassFila python: unIndexClassFila + 1">
										<td align="left" valign="baseline">
											<strong  tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_exportar_Parameter_ProductVersion_label',   'Product version-' )" />
										</td>
										<td align="left" valign="baseline">
											<input type="text"  size="32"  value="#"  checked="checked" name="theProductVersion" id="theProductVersion"
												tal:attributes="value pProductVersion"/>
										</td>
									</tr>                     
									
									<tr class="#" tal:attributes="class python: pClasesFilas[unIndexClassFila % 2]" tal:define="global unIndexClassFila python: unIndexClassFila + 1">
										<td align="left" valign="baseline">
											<strong  tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_exportar_Parameter_L10NVersion_label',   'Localization version-' )" />
										</td>
										<td align="left" valign="baseline">
											<input type="text"  size="32"  value="#"  checked="checked" name="theL10NVersion" id="theL10NVersion"
												tal:attributes="value pL10NVersion"/>
										</td>
									</tr>                     
								</tbody>
							</table>
							<br/>
							
							<input class="context" name="form_submit"  type="submit"  value="Save" tabindex="5" i18n:domain="plone" i18n:attributes="value label_save" />                                                        
						</form>
					</tal:block>				
				</tal:block>
			</tal:block>
		</tal:block>
		
		<metal:block metal:use-macro="here/PerformanceAnalysis/macros/tRenderProcessingTime_HTML" />   
			 
	</div>
    

</body>
</html>

