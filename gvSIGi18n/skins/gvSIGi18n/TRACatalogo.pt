<tal:block replace="nothing">
# File: TRACatalogo.pt
#
# Copyright (c) 2008, 2009 by Conselleria de Infraestructuras y Transporte de la
# Generalidad Valenciana
#
# GNU General Public License (GPL)
#
# This program is free software; you can redistribute it and/or
# modify it under the terms of the GNU General Public License
# as published by the Free Software Foundation; either version 2
# of the License, or (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
# 02110-1301, USA.
#
# Authors: 
# Conselleria de Infraestructuras y Transporte de la Generalidad Valenciana 
# Model Driven Development sl  Valencia (Spain) www.ModelDD.org 
# Antonio Carrasco Valero                       carrasco@ModelDD.org
#
#
</tal:block>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      metal:use-macro="here/main_template/macros/master"
      i18n:domain="plone">
<body>                     

                             
<metal:main fill-slot="main">
    <tal:main-macro metal:define-macro="main"
        tal:define="text string:Catalogo de cadenas y sus traduciones a varios idiomas.;
        global pStartTime       pStartTime | python: here.ModelDDvlPlone_tool.fMillisecondsNow()" 
        i18n:domain="gvSIGi18n">

        <tal:block tal:define="pExecutionRecord python: here.fStartExecution( 'template', 'TRACatalogo.pt', None, True, { 'log_what': 'details', 'log_when': True, })" >
        
            <div metal:use-macro="here/document_actions/macros/document_actions">
                Document actions (print, sendto etc)
            </div>
    
            <h1 tal:content="object_title" class="documentFirstHeading">
              Title or id
            </h1>
    
            <div metal:use-macro="here/document_byline/macros/byline">
              Get the byline - contains details about author and modification date.
            </div>
            
            
    
            <tal:block tal:define="pPermiteEditar python: False; pPermiteEliminar python: False; pShowOrHideTrees python: False">
                <metal:block metal:use-macro="here/TRACabeceraEnTabla_i18n_view/macros/tCabeceraEnTabla_i18n" />   
            </tal:block>

    
            <tal:block tal:define="
               pPermissionsCache python: {};
               pRolesCache python: {};
               pInformeIdiomasYModulos python: here.fInformeTitulosIdiomasYModulosPermitidos( 
                        'List_Languages_And_Modules',
                        thePermissionsCache         =pPermissionsCache, 
                        theRolesCache               =pRolesCache, 
                        theParentExecutionRecord    =pExecutionRecord,
                    );
                pDisplayCountryFlags    python: here.fDisplayCountryFlags();
                pInformesIdiomas        python: pInformeIdiomasYModulos.get( 'idiomas', []);
                pCodigosIdiomas         python: [ unInforme.get( 'codigoIdiomaEnGvSIG', '') for unInforme in pInformesIdiomas];
                pInformesModulos        python: pInformeIdiomasYModulos.get( 'modulos', []);
                pNumeroCadenas          python: pInformeIdiomasYModulos.get( 'numero_cadenas', []);            
                aTranslationsCache      python: {};
                dummy       python:           here.fTranslateI18NManyIntoDict( [
                    [ 'gvSIGi18n', [    
                        [ 'gvSIGi18n_fechaInformeModulos_label',                                        'Modules Report Date-'  ],
                        [ 'gvSIGi18n_cadenas_msgid',                                                    'Strings-' ,            ],
                        [ 'gvSIGi18n_total_msgid',                                                      'Total-' ,              ],
                        [ 'gvSIGi18n_comprobacion_msgid',                                               'Check-' ,              ],
                        [ 'gvSIGi18n_TRAColeccionModulos_contents_modulos_label',                       'Modules-' ,            ],
                        [ 'gvSIGi18n_TRAColeccionIdiomas_contents_idiomas_label',                       'Languages-' ,          ],
                        [ 'gvSIGi18n_TRATraduccion_attr_estadoTraduccion_option_Pendiente',             'Pending-' ,            ],
                        [ 'gvSIGi18n_TRATraduccion_attr_estadoTraduccion_option_Traducida',             'Translated-' ,         ],
                        [ 'gvSIGi18n_TRATraduccion_attr_estadoTraduccion_option_Revisada',              'Reviewed-' ,           ],
                        [ 'gvSIGi18n_TRATraduccion_attr_estadoTraduccion_option_Definitiva',            'Definitive-' ,         ],
                        [ 'gvSIGi18n_fechaInformeModulos_label',                                        'Modules report date-' , ],
                        [ 'gvSIGi18n_bandera_label',                                                    'Flag-' ,               ],
                        [ 'gvSIGi18n_TRAIdioma_attr_codigoIdiomaEnGvSIG_label_abbreviated',             'Code-' ,               ],
                        [ 'gvSIGi18n_TRAIdioma_attr_codigoInternacionalDeIdioma_label_abbreviated',     'Intl. Code-' ,         ],
                        [ 'gvSIGi18n_TRAIdioma_attr_nombreIdioma_label_abbreviated',                    'Name-' ,               ],
                        [ 'gvSIGi18n_TRAIdioma_attr_nombreNativoDeIdioma_label_abbreviated',            'Native name-' ,        ],
                    ]]
                ], aTranslationsCache)" >
             
                <tal:block tal:condition="python: not( pInformeIdiomasYModulos and pInformeIdiomasYModulos.get( 'success', False))" >
                    <p tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_AccessFailedAndPromptYouHavePermission_label', 'Access to the translations catalog failed.\nDo you have permission ?\nIf so, you may want to login first.-')" />
                </tal:block>
                <tal:block tal:condition="python: pInformeIdiomasYModulos and pInformeIdiomasYModulos.get( 'success', False)" >
    
                    <table width="100%%" cellspacing="0" cellpadding="0" frame="void" >
                        <tbody>
                            <tr>
                                <td width="25%" align="left" valign="baseline">
                                    <font size="2">
                                        <em><span tal:content="python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_TRACatalogo_attr_nombreProducto_label',   'Product Name-' )" /></em>
                                     </font>        
                                    <font size="3">
                                        <strong><span tal:content="python: here.fAsUnicode( here.getNombreProducto())" /></strong>
                                     </font>
                                </td>         
                                <td width="25%" align="right" valign="baseline">                    
                                    <strong>
                                       <a href="#" title="#"
                                           tal:define="aLinkTitle python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_refrescar_action_label',   'Refresh-' )"
                                           tal:attributes="
                                               title aLinkTitle;
                                               href python: '%s/TRACatalogo/' % here.getCatalogo().absolute_url()">
                                           <img src="#" alt="#" title="#" 
                                                tal:attributes="src string:${portal_url}/refrescar.gif; alt aLinkTitle; title aLinkTitle" 
                                                id="icon-refrescar" />
                                           <span tal:content="aLinkTitle" />
                                       </a>
                                    </strong>
                                </td>
                                <td width="25%" align="center" valign="baseline">
                                    <tal:block tal:define="
                                        pUseCaseAssessmentResult_VistaAvanzada python: here.fUseCaseAssessment( 
                                            theUseCaseName          = 'Advanced_View_on_any_TRA_element', 
                                            theElementsBindings     = { 'object': here.getCatalogo(),},
                                            theRulesToCollect       = None, 
                                            thePermissionsCache     = pPermissionsCache, 
                                            theRolesCache           = pRolesCache, 
                                            theParentExecutionRecord= pExecutionRecord)"
                                        tal:condition="python: pUseCaseAssessmentResult_VistaAvanzada">
                                                                    
                                        <tal:block tal:condition="python: pUseCaseAssessmentResult_VistaAvanzada.get( 'success', False)" >
                                            <strong>
                                                <a href="#" title="#" 
                                                    tal:define="aLinkTitle python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_vistaAvanzada_msgid',   'Advanced view-')"
                                                    tal:attributes="
                                                        title aLinkTitle;
                                                        href python: '%s/Tabular/' % here.getCatalogo().absolute_url()">
                                                    <img src="#" alt="#" title="#" 
                                                         tal:attributes="src string:${portal_url}/tabular.gif; alt aLinkTitle; title aLinkTitle" 
                                                         id="icon-tabular" />
                                                    <span tal:content="aLinkTitle" />
                                                </a>
                                            </strong>
                                        </tal:block>
                                    </tal:block>
                                </td>
                                <td width="25%" align="right" valign="baseline">                    
                                    <strong>
                                        <a href="#" title="#" 
                                            tal:define="aLinkTitle python: here.fTranslateI18N( 'gvSIGi18n', 'gvSIGi18n_mostrarinformedeestado_msgid',   'Show Status Report-' )"                                    
                                            tal:attributes="
                                                title aLinkTitle;
                                                href python: '%s/TRACatalogoInforme/' % here.getCatalogo().absolute_url()">
                                            <img src="#" alt="#" title="#" 
                                                 tal:attributes="src string:${portal_url}/trainforme.gif; alt aLinkTitle; title aLinkTitle" 
                                                 id="icon-informe" />
                                            <span tal:content="aLinkTitle" />
                                        </a>
                                    </strong>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                
            
            
                 <br/>
    
                <tal:block tal:define="
                    global pClasesFilas             python: ['even', 'odd',];
                    global pIndex                   python: 0" >        
                    
                    <p>
                        <font size="2">
                            <strong tal:content="python: len( pInformesIdiomas)" />
                            <em tal:content="aTranslationsCache/gvSIGi18n_TRAColeccionIdiomas_contents_idiomas_label" />
                            &nbsp;-&nbsp;
                            <strong tal:content="python: pNumeroCadenas" />
                            <em tal:content="aTranslationsCache/gvSIGi18n_cadenas_msgid" />
                            &nbsp;-&nbsp;
                            <strong tal:content="python: len( pInformesModulos)" />
                            <em tal:content="aTranslationsCache/gvSIGi18n_TRAColeccionModulos_contents_modulos_label" />
                        </font>
                    </p>
                    <table id="id_LanguagesJumpTable" class="listing" summary="#"  tal:attributes="summary string: Languages" 
                        tal:define="pHayCodigosIdiomasInternacionalesDistintosCodigoEnGvSIG python: len( [ unInformeIdioma for unInformeIdioma in  pInformesIdiomas if not ( unInformeIdioma.get( 'codigoIdiomaEnGvSIG', '') == unInformeIdioma.get( 'codigoInternacionalDeIdioma', unInformeIdioma.get( 'codigoIdiomaEnGvSIG', '')))]) > 0">
                        <thead>
                            <tr>
                                <th class="nosort" align="center" tal:content="aTranslationsCache/gvSIGi18n_TRAIdioma_attr_codigoIdiomaEnGvSIG_label_abbreviated" />
                                <th tal:condition="pHayCodigosIdiomasInternacionalesDistintosCodigoEnGvSIG"
                                    class="nosort" align="center" tal:content="aTranslationsCache/gvSIGi18n_TRAIdioma_attr_codigoInternacionalDeIdioma_label_abbreviated" />
                                <th class="nosort" align="left"   tal:content="aTranslationsCache/gvSIGi18n_TRAIdioma_attr_nombreIdioma_label_abbreviated" />
                                <th class="nosort" align="left"   tal:content="aTranslationsCache/gvSIGi18n_TRAIdioma_attr_nombreNativoDeIdioma_label_abbreviated" />
                                <th tal:condition="pDisplayCountryFlags"
                                    class="nosort" align="center" tal:content="aTranslationsCache/gvSIGi18n_bandera_label" />
                            </tr>
                        </thead>
                        <tbody>
                            <tal:block tal:repeat="unIdiomaIndex python: range( len(  pInformesIdiomas))">
                                <tr class="#" 
                                    tal:define="
                                        unInformeIdioma     python: pInformesIdiomas[ unIdiomaIndex];
                                        pCode               python: unInformeIdioma.get( 'codigoIdiomaEnGvSIG', '');
                                        pIntlCode           python: unInformeIdioma.get( 'codigoInternacionalDeIdioma', pCode);
                                        pName               python: unInformeIdioma.get( 'nombreIdioma', pCode);
                                        pNativeName         python: unInformeIdioma.get( 'nombreNativoDeIdioma', pName);
                                        pFlag               python: unInformeIdioma.get( 'flag', 'tra_flag-ninguna.gif');
                                        pHref               python: here.fAsUnicode( '%s/TRATraducir/?theCodigoIdiomaCursor=%s&theMostrarInforme=on&theMostrarLista=on' % ( here.getCatalogo().absolute_url(), pCode,));
                                        pHref               python: pHref + ((( 'es' in pCodigosIdiomas) and '&theIdiomasReferencia=es')or '' );
                                        pHref               python: pHref + ((( 'en' in pCodigosIdiomas) and '&theIdiomasReferencia=en')or '' );                                            
                                        pTitle              python: here.fAsUnicode( '%s %s %s %s' % ( pCode, pIntlCode, pName, pNativeName,));
                                        pSizesIdioma        python: here.TRASizesIdioma( pCode)" 
                                    tal:attributes="class python: pClasesFilas[ unIdiomaIndex % 2]" >
                                    <td align="left" valign="baseline" >                                        
                                        <a href="#" title="#"  tal:attributes="href pHref; title pTitle" >
                                            <font color="black">
                                                <strong>
                                                    <span tal:content="python: pCode" />
                                                </strong>
                                            </font>
                                        </a>
                                    </td>
                                    <td tal:condition="pHayCodigosIdiomasInternacionalesDistintosCodigoEnGvSIG"
                                        align="left" valign="baseline" >                                        
                                        <a tal:condition="python: not ( pIntlCode == pCode)" 
                                            href="#" title="#"  tal:attributes="href pHref; title pTitle" >
                                            <font color="black">
                                                <strong>
                                                    <span tal:content="python: pIntlCode" />
                                                </strong>
                                            </font>
                                        </a>
                                    </td>
                                    <td align="left" valign="baseline" >                                        
                                        <a href="#" title="#"  tal:attributes="href pHref; title pTitle" >
                                            <font color="black">
                                                <strong>
                                                    <span tal:content="python: pName" />
                                                </strong>
                                            </font>
                                        </a>
                                    </td>            
                                    <td align="left" valign="baseline" >                                        
                                        <a href="#" title="#"  tal:attributes="href pHref; title pTitle" >
                                            <font color="black" size="#" tal:attributes="size python: pSizesIdioma.get( 'display_font_size', '1')">
                                                <strong>
                                                    <span tal:content="python: pNativeName" />
                                                </strong>
                                            </font>
                                        </a>
                                    </td>
                                    <td tal:condition="pDisplayCountryFlags" align="center" valign="baseline" >                                        
                                        <a href="#" title="#"  tal:attributes="href pHref; title pTitle" >
                                            <img width="14" height="11" alt="" tal:attributes=" src python: '%s/%s' % ( here.portal_url(), pFlag); title pTitle; alt pTitle"/>
                                        </a>
                                    </td>
                                </tr>
                            </tal:block>
                       </tbody>
                    </table>
                </tal:block>
                    
            </tal:block>
            </tal:block>
            <br/>        
           
    
            <tal:block tal:define="dummy python: pExecutionRecord and here.pEndExecution( pExecutionRecord)" />
        
            <metal:block metal:use-macro="here/TRAFooter_i18n_view/macros/tFooter_i18n" />   
        
            <tal:block tal:replace="structure python: pExecutionRecord and here.TRARenderExecutionDetails( pExecutionRecord)" />
            
        </tal:block>

 
    </tal:main-macro>
</metal:main>

</body>
</html>
