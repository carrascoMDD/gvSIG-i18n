<tal:block replace="nothing">
# File: TRACrearIdioma_i18n_view.pt
#
# Copyright (c) 2008, 2009 by Conselleria de Infraestructuras y Transporte de la
# Generalidad Valenciana
#
# GNU General Public License (GPL)
#
# This program is free software; you can redistribute it and/or
# modify it under the terms of the GNU General Public License
# as published by the Free Software Foundation; either version 2
# of the License, or (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software
# Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
# 02110-1301, USA.
#
# Authors: 
# Conselleria de Infraestructuras y Transporte de la Generalidad Valenciana 
# Model Driven Development sl  Valencia (Spain) www.ModelDD.org 
# Antonio Carrasco Valero                       carrasco@ModelDD.org
#
</tal:block>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en">
<body>


    <div metal:define-macro="tCrearIdioma_i18n" i18n:domain="gvSIGi18n" >

        
        <tal:block tal:define="global pNewCodigoIdiomaEnGvSIG           request/theNewCodigoIdiomaEnGvSIG           | string:" />
        <tal:block tal:define="global pNewCodigoInternacionalDeIdioma   request/theNewCodigoInternacionalDeIdioma   | string:" />
        <tal:block tal:define="global pNewEnglishName                   request/theNewEnglishName                   | string:" />
        <tal:block tal:define="global pNewNativeName                    request/theNewNativeName                    | string:" />
        

        
            <table width="100%%" cellspacing="0" cellpadding="0" frame="void">
                <tr>
                    <td align="right" >
                        <a  href="#" tal:attributes="href python: here.absolute_url() " class="state-visible" title="">
                            <span  i18n:domain="gvSIGi18n" i18n:translate="gvSIGi18n_abandonarcreacion_action_label"/>
                            &nbsp;
                            (
                            <img src="#" tal:attributes="src python: '%s/tra_idioma.gif' % here.absolute_url()"  
                                alt="" title="New Typeicon" id="icon-new type" />
                            <span  i18n:domain="gvSIGi18n"  i18n:translate="TRAIdioma">TRAIdioma</span>    
                            )
                        </a>
                    </td>
                </tr>
            </table>
            <br/>
        
        
            <h2>
                <span i18n:domain="gvSIGi18n" i18n:translate="gvSIGi18n_crear_action_label">Crear nuevo elemento&nbsp;</span>
                &nbsp;  
                (      
                <img src="#" tal:attributes="src python: '%s/tra_idioma.gif' % here.absolute_url()"  
                    alt="" title="New Typeicon" id="icon-new type" />
                <span  i18n:domain="gvSIGi18n"  i18n:translate="TRAIdioma" >TRAIdioma</span>    
                )
                &nbsp; 
                <span i18n:domain="gvSIGi18n" i18n:translate="gvSIGi18n_ensiguecontenedorcuandocreando">&nbsp;en&nbsp;</span>
                <tal:block tal:define="pPropietario                  python: here;
                                       pPropietarioAllMetaAndValues  python: pPropietario.getAttributesMetaAndValues( ['title'])">
                    <tal:block tal:condition="python: pPropietario" >
                        &nbsp;
                        <span tal:content="python: pPropietarioAllMetaAndValues[0][1]" />
                        &nbsp;(
                        <img src="#" tal:attributes="src python: '%s/%s' % (here.absolute_url(), pPropietario.content_icon)"  
                             alt="" title="Propietario MetaType icon" id="icon-propietario" />
                        &nbsp;
                        <span i18n:domain="gvSIGi18n"  i18n:translate="" tal:content="python: pPropietario.archetype_name" ><tal:block tal:content="python: pPropietario.archetype_name" /></span>
                        )
                    </tal:block>
                </tal:block>
            </h2>
           
            <p class="formHelp"   i18n:domain="gvSIGi18n"  i18n:translate="gvSIGi18n_TRAIdioma_help" />        
            <br/>
            <br/>
        
        
            <tal:block tal:condition="python: not pNewCodigoIdiomaEnGvSIG or len( pNewCodigoIdiomaEnGvSIG) < 1 or not pNewCodigoInternacionalDeIdioma or len( pNewCodigoInternacionalDeIdioma) < 1 or not pNewEnglishName or len( pNewEnglishName) < 1" >
                <form>
                    <tal:block tal:condition="python: not pNewCodigoIdiomaEnGvSIG or len( pNewCodigoIdiomaEnGvSIG) < 1" >
                        <h5>
                            <font color="Red">
                            <span i18n:domain="gvSIGi18n"  i18n:translate="gvSIGi18n_codigoidiomaengvsigesrequerido_info_msgid" >gvSIGi18n_codigoidiomaengvsigesrequerido_info_msgid</span>
                            </font>
                        </h5>
                    </tal:block>
                    <h4 i18n:domain="gvSIGi18n"  i18n:translate="gvSIGi18n_TRAIdioma_attr_codigoIdiomaEnGvSIG_label" >gvSIGi18n_TRAIdioma_attr_codigoIdiomaEnGvSIG_label</h4>
                    <p class="formHelp" i18n:domain="gvSIGi18n"  i18n:translate="gvSIGi18n_TRAIdioma_attr_codigoIdiomaEnGvSIG_help">gvSIGi18n_TRAIdioma_attr_codigoIdiomaEnGvSIG_help</p>        
                    <div class="field ArchetypesStringWidget" id="archetypes-fieldname-newCodigoIdiomaEnGvSIG">
                        <input style="font-size: 12pt;"  name="theNewCodigoIdiomaEnGvSIG" id="theNewCodigoIdiomaEnGvSIG" value="#" size="16" maxlength="16" type="text" 
                            tal:attributes="value python: pNewCodigoIdiomaEnGvSIG"/>
                    </div>
                    <br/>
                    <br/>

                    <tal:block tal:condition="python: not pNewCodigoInternacionalDeIdioma or len( pNewCodigoInternacionalDeIdioma) < 1" >
                        <h5>
                            <font color="Red">
                            <span i18n:domain="gvSIGi18n"  i18n:translate="gvSIGi18n_codigointernacionaldeidiomaesrequerido_info_msgid" >gvSIGi18n_codigointernacionaldeidiomaesrequerido_info_msgid</span>
                            </font>
                        </h5>
                    </tal:block>
                    <h4 i18n:domain="gvSIGi18n"  i18n:translate="gvSIGi18n_TRAIdioma_attr_codigoInternacionalDeIdioma_label" >gvSIGi18n_TRAIdioma_attr_codigoInternacionalDeIdioma_label</h4>
                    <p class="formHelp" i18n:domain="gvSIGi18n"  i18n:translate="gvSIGi18n_TRAIdioma_attr_codigoInternacionalDeIdioma_help'">gvSIGi18n_TRAIdioma_attr_codigoInternacionalDeIdioma_help'</p>        
                    <div class="field ArchetypesStringWidget" id="archetypes-fieldname-newCodigoInternacionalDeIdioma">
                        <input style="font-size: 12pt;"  name="theNewCodigoInternacionalDeIdioma" id="theNewCodigoInternacionalDeIdioma" value="#" size="16" maxlength="16" type="text" 
                            tal:attributes="value python: pNewCodigoInternacionalDeIdioma"/>
                    </div>
                    <br/>
                    <br/>

    	            
    	                
                    <tal:block tal:condition="python: not pNewEnglishName or len( pNewEnglishName) < 1" >
                        <h5>
                            <font color="Red">
                            <span i18n:domain="gvSIGi18n"  i18n:translate="gvSIGi18n_tituloesrequerido_info_msgid" >gvSIGi18n_tituloesrequerido_info_msgid</span>
                            </font>
                    </h5>
                    </tal:block>
                    <h4  i18n:domain="plone" i18n:translate="title" >Titulo</h4>
                    <p class="formHelp"  i18n:domain="plone" i18n:translate="title_help">Titulo del Idioma.</p>        
                    <div class="field ArchetypesStringWidget" id="archetypes-fieldname-newTitleInput">
                        <input style="font-size: 12pt;"  name="theNewEnglishName" id="theNewEnglishName" value="#" size="64" maxlength="64" type="text" 
                            tal:attributes="value python: pNewEnglishName"/>
                    </div>
                    <br/>
                    <br/>


    	            
    	                
                    <tal:block tal:condition="python: not pNewNativeName or len( pNewNativeName) < 1" >
                        <h5>
                            <font color="Red">
                            <span i18n:domain="gvSIGi18n"  i18n:translate="gvSIGi18n_tituloesrequerido_info_msgid" >gvSIGi18n_tituloesrequerido_info_msgid</span>
                            </font>
                    </h5>
                    </tal:block>
                    <h4  i18n:domain="plone" i18n:translate="title" >Titulo</h4>
                    <p class="formHelp"  i18n:domain="plone" i18n:translate="title_help">Titulo del Idioma.</p>        
                    <div class="field ArchetypesStringWidget" id="archetypes-fieldname-newTitleInput">
                        <input style="font-size: 12pt;"  name="theNewNativeName" id="theNewNativeName" value="#" size="64" maxlength="64" type="text" 
                            tal:attributes="value python: pNewNativeName"/>
                    </div>
                    <br/>
                    <br/>

                    <input class="context" name="form_submit" value="Guardar" type="submit">                    
                </form>
            </tal:block>
            <tal:block tal:condition="python:  pNewCodigoIdiomaEnGvSIG and len( pNewCodigoIdiomaEnGvSIG) > 0 and pNewCodigoInternacionalDeIdioma and  len( pNewCodigoInternacionalDeIdioma) > 0  and pNewEnglishName and len( pNewEnglishName) > 0 " >
                <tal:block tal:define="global pCrearResult python: here.fCrearIdiomaDesdeUI( pNewCodigoIdiomaEnGvSIG, pNewCodigoInternacionalDeIdioma, pNewEnglishName)" />
                <tal:block tal:condition="python: pCrearResult" >
                    <tal:block tal:define="
                        unNuevoElemento python: pCrearResult;
                        pURLNuevoElemento python: '%s' % unNuevoElemento.absolute_url();                  
                        dummy python:request.response.redirect(pURLNuevoElemento);" />
                </tal:block>
                <tal:block tal:condition="python: not pCrearResult" >
                    <h4>
                        <font color="Red">
                            <span i18n:domain="gvSIGi18n"  i18n:translate="gvSIGi18n_nosehacreadoelemento_info_msgid" ></span>
                        </font>
                    </h4>
                </tal:block>
            </tal:block> 
             
    </div>
    
</body>
</html>
    